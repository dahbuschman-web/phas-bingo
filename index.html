<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phasmophobia Tanglewood Bingo</title>
  <style>
    body { font-family: Arial, sans-serif; background:#0d0d0d; color:#eee; text-align:center; }
    h1 { color:#fff; text-shadow:2px 2px 4px #000; }
    #bingo { display:grid; grid-template-columns: repeat(5, 1fr); gap:5px; max-width:500px; margin:20px auto; }
    .cell { padding:15px; background:#222; border-radius:8px; cursor:pointer; transition:all 0.2s; }
    .cell.marked { background:#4caf50; color:#fff; text-shadow:0 0 8px #fff; }
    #newCard { margin:20px; padding:10px 20px; font-size:16px; cursor:pointer; border:none; border-radius:8px; background:#444; color:#fff; }
  </style>
</head>
<body>
  <h1>Phasmophobia Bingo - Tanglewood</h1>
  <div id="bingo"></div>
  <button id="newCard">New Card</button>
  <audio id="bingoSound">
    <source src="data:audio/mp3;base64,//uQxAAAD...shortened..." type="audio/mp3">
  </audio>
  <script>
    const prompts = [
      "EMF Level 5", "Ghost Writing", "Freezing Temps", "Spirit Box", "Ghost Orb",
      "Candle Blown Out", "Door Touch", "Breaker Off", "Ouija Board", "Ghost Event",
      "Hiding in Garage", "Closet Door Slam", "Crucifix Used", "Salt Step", "Bone Found",
      "Photo Evidence", "Lights Flicker", "Car Alarm", "Phone Ring", "Footstep Sound",
      "Dots Evidence", "Ghost Hunt", "Shadow Figure", "Window Knock", "TV/Radio On"
    ];
    const size = 5;

    function generateBoard() {
      let shuffled = [...prompts].sort(() => 0.5 - Math.random());
      return shuffled.slice(0, size*size);
    }

    function saveBoard(board) {
      localStorage.setItem("bingoBoard", JSON.stringify(board));
    }

    function loadBoard() {
      let b = localStorage.getItem("bingoBoard");
      return b ? JSON.parse(b) : null;
    }

    function renderBoard(board) {
      const bingo = document.getElementById("bingo");
      bingo.innerHTML = "";
      board.forEach((text, i) => {
        const div = document.createElement("div");
        div.className = "cell";
        div.textContent = text;
        div.onclick = () => {
          div.classList.toggle("marked");
          checkBingo();
        };
        bingo.appendChild(div);
      });
    }

    function checkBingo() {
      const cells = document.querySelectorAll(".cell");
      let grid = [];
      for (let i=0;i<size;i++) grid.push([]);
      cells.forEach((c, i) => grid[Math.floor(i/size)][i%size] = c.classList.contains("marked"));

      let bingo = false;
      for (let i=0;i<size;i++) {
        if (grid[i].every(v=>v)) bingo=true;
        if (grid.map(r=>r[i]).every(v=>v)) bingo=true;
      }
      if (grid.map((r,i)=>r[i]).every(v=>v)) bingo=true;
      if (grid.map((r,i)=>r[size-1-i]).every(v=>v)) bingo=true;

      if (bingo) {
        document.getElementById("bingoSound").play();
        alert("ðŸŽ‰ Bingo! ðŸŽ‰");
      }
    }

    document.getElementById("newCard").onclick = () => {
      const board = generateBoard();
      saveBoard(board);
      renderBoard(board);
    };

    let board = loadBoard();
    if (!board) {
      board = generateBoard();
      saveBoard(board);
    }
    renderBoard(board);
  </script>
</body>
</html>